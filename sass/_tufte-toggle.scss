/* Toggle functionality for Tufte CSS sidenotes and marginnotes */

/* Hide checkbox inputs */
.sidenote-toggle, .margin-toggle {
  display: none;
}

/* For small screens, show the toggles */
@media (max-width: $min-width-breakpoint) {
  /* Common styles for all toggle references */
  .sidenote-ref, label.margin-toggle.sidenote-ref {
    display: inline;
    cursor: pointer;
    color: $link-color;
    font-size: 0.85rem;
    position: relative;
  }
  
  /* Style for notes when toggled visible on mobile */
  .margin-toggle:checked + .sidenote,
  .margin-toggle:checked + .marginnote,
  .sidenote-toggle:checked + .sidenote {
    display: block;
    float: left;
    left: 0;
    clear: both;
    width: 95%;
    margin: 1rem 2.5%;
    position: relative;
    padding: 0.5rem;
    border-left: 2px solid $divider-color;
    font-size: 0.85rem;
  }

  /* Ensure sidenote numbers and toggle symbols are consistent */
  .sidenote-number:after {
    content: counter(sidenote-counter);
    font-size: 0.85rem;
    vertical-align: super;
    position: relative;
    top: 0;
  }

  /* Consistent spacing around toggle symbols */
  .sidenote-ref:after {
    content: " âŠ•";
    color: $link-color;
  }

  /* Apply same styling to both toggle types */
  label.margin-toggle.sidenote-ref,
  .sidenote-ref {
    margin: 0 0.2em;
    padding: 0;
    line-height: 1;
  }
}

/* Full-width figure toggle */
.fullwidth-toggle {
  display: none;
}

label.margin-toggle.fullwidth-toggle {
  position: relative;
  left: 1rem;
  display: none;
}

@media (max-width: $min-width-breakpoint) {
  label.margin-toggle.fullwidth-toggle {
    display: inline;
  }

  .fullwidth-toggle:checked + figure.fullwidth {
    margin-right: 0%;
    width: 100%;
    overflow-x: auto;
  }
}
