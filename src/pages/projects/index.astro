---
export const prerender = true;

import PageLayout from "@layouts/PageLayout.astro";
import PageContainer from "@components/PageContainer.astro";
import PageHeader from "@components/PageHeader.astro";
import Section from "@components/Section.astro";
import ProjectCard from "@components/ProjectCard.astro";
import { PROJECTS_CONFIG, PROJECTS } from "@lib/config";
import { sortByDateDesc } from "@lib/utils";

const sortedProjects = sortByDateDesc(PROJECTS);
---

<PageLayout
  title={PROJECTS_CONFIG.TITLE}
  description={PROJECTS_CONFIG.DESCRIPTION}
  currentPath="/projects/"
>
  <PageContainer spacing="md">
    <PageHeader title={PROJECTS_CONFIG.TITLE} size="lg" />

    <Section spacing="md">
      {sortedProjects.map((project) => <ProjectCard project={project} />)}
    </Section>

    {
      sortedProjects.length === 0 && (
        <div class="py-12 text-center">
          <p class="text-text-secondary dark:text-text-secondary-dark">
            No projects found.
          </p>
        </div>
      )
    }
  </PageContainer>
</PageLayout>
