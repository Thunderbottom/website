---
interface Props {
  href: string;
  external?: boolean;
  underline?: boolean;
  class?: string;
}

const {
  href,
  external = false,
  underline = false,
  class: className = "",
  ...rest
} = Astro.props;

const baseClasses =
  "text-link dark:text-link-dark hover:bg-text-primary hover:text-background dark:hover:bg-text-primary-dark dark:hover:text-background-dark hover:no-underline hover:py-[0.0625rem] hover:px-[0.1875rem] hover:-my-[0.0625rem] hover:-mx-[0.1875rem] transition-all duration-200 ease-in-out";

const underlineClasses = underline
  ? "underline underline-offset-[3px] [display:inline-block]"
  : "";

const linkClasses = [baseClasses, underlineClasses, className]
  .filter(Boolean)
  .join(" ");
---

<a
  href={href}
  target={external ? "_blank" : "_self"}
  rel={external ? "noopener noreferrer" : undefined}
  class={linkClasses}
  {...rest}
>
  <slot />
</a>
